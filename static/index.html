<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShaderWrap - Simple Shader Generation for Unity</title>
    <link rel="stylesheet" href="/static/bulma.css">
</head>
<body>
    <header>
        <nav>
            <h1 class = "title is-1" 
                style="color:cornflowerblue; 
                        font-weight: 250;
                        font-size: 5rem;">ShaderWrap</h1>
        </nav>
    </header>
    <br>
    <main>
        <section id="hero">
            <h1 class="title is-4" style="color: cornflowerblue; font-weight: 500;">Welcome to the ShaderWrap Generation Application!</h1>
            <p1 class = "subtitle is-6">This simple application generates shaders based on user descriptions using Ollama's API.
            You may edit your model preferences in the <code>mpresets.json</code> file.
            </p1> 
        </section>
        <div class="field is-grouped" style="align-items: center; gap: 0.5rem;">
            <div class="control" style="flex: 1; max-width: 480px;">
                <label class="label">Unity Project Path</label>
                <input type="text" id="unityPath" class="input is-small is-link" 
                       placeholder="D:/Development/Unity/Projects/YourProject">
            </div>
            <div class="control" style="margin-top: 1.8rem;">
                <button id="setFilePathBtn" class="button is-small is-link is-rounded" type="button">
                    Set File Path
                </button>
            </div>
        </div>
        <br>
        <div class="select is-link is-rounded" id="modelSelection">
            <select id="modelDropdown"> 
                <!-- Options-->
                <option></option>
            </select>
        </div>

        <section id="generator">
            <br>
            <h2 class="title is-5" style="color: cornflowerblue; font-weight: 500;">Shader Generator</h2>
            <form>
                <label for="description" class="subtitle">Describe your shader: </label>
                <textarea class="textarea" id="description" name="description" rows="5" placeholder="Enter shader description..."></textarea>
                <br>
                <div class="field">
                    <label class="checkbox">
                        <input type="checkbox" id="advancedToggle">
                        Options
                    </label>
                </div>
                <div id="advancedPanel" class="box" style="display: none; margin-top: 1rem;">
                    <h3 class="title is-6">Shader Options</h3>
                    <p class="subtitle is-7">Note that these are not necessary for the tool to work, just some extra functionality for finetuning the output.</p>
                    <hr> 
                    <div id="shaderOptionsContainer" class="columns is-multiline">
                        <!-- Options -->
                    </div>
                </div>
                <br>
                <button type="submit" class="button is-focused is-rounded is-link">
                    Generate Shader
                </button>
            </form>
            <br>
            <div class="output">
                <h3 class="title is-5" style="color: cornflowerblue; font-weight: 500;">Status</h3>
                <p3 class="subtitle is-6">Your generated shader code will be saved locally to the Python project folder as
                    <code>output_{timestamp}.shader</code>, as well as within your Unity project as both a script and a material. 
                </p3>
                <br>
    
                <div id="generationProgress" style="display: none">
                    <progress class="progress is-link is-large" max="100">50%</progress>
                    <p class="has-text-centered" id="progressText">Generating shader...</p>
                </div>
                <br>
                <textarea readonly class="textarea" name="codeblock" rows="1" cols="50" placeholder="Status"></textarea>
            </div>
        </section>
    </main>

    <br>

    <footer>
        <section id="about">
            <h4 class="title is-5" style="color: cornflowerblue; font-weight: 500;">About </h4>
            <p4 class="subtitle is-6">
                This project was created to simplify the process of generating shaders for Unity using natural language descriptions. Mostly as a light educational project about building a simple web application. 
            </p4>
        </section>
        <br>
        <p>&copy; 2025 ShaderWrap. By Darrell Cheng &#128060;</p>
    </footer>
    
    <script src="/static/script.js"></script>
</body>
</html>